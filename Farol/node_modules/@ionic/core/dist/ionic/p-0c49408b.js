import{b as t}from"./p-bb99b659.js";let o=0;const n=t=>({create:o=>d(t,o),dismiss:(o,n,a)=>l(document,o,n,t,a),getTop:async()=>y(document,t)}),a=n("ion-alert"),e=n("ion-action-sheet"),s=n("ion-loading"),i=n("ion-modal"),r=n("ion-picker"),c=n("ion-popover"),u=n("ion-toast"),d=(t,n)=>customElements.whenDefined(t).then(()=>{const a=document,e=a.createElement(t);p(a),Object.assign(e,n),e.classList.add("overlay-hidden");const s=o++;return e.overlayIndex=s,e.hasAttribute("id")||(e.id=`ion-overlay-${s}`),b(a).appendChild(e),e.componentOnReady()}),p=t=>{0===o&&(o=1,t.addEventListener("focusin",o=>{const n=y(t);if(n&&n.backdropDismiss&&!j(n,o.target)){const t=n.querySelector("input,button");t&&t.focus()}}),t.addEventListener("ionBackButton",o=>{const n=y(t);n&&n.backdropDismiss&&o.detail.register(100,()=>n.dismiss(void 0,x))}),t.addEventListener("keyup",o=>{if("Escape"===o.key){const o=y(t);o&&o.backdropDismiss&&o.dismiss(void 0,x)}}))},l=(t,o,n,a,e)=>{const s=y(t,a,e);return s?s.dismiss(o,n):Promise.reject("overlay does not exist")},y=(t,o,n)=>{const a=((t,o)=>{const n=Array.from(b(t).children).filter(t=>t.overlayIndex>0);return void 0===o?n:(o=o.toUpperCase(),n.filter(t=>t.tagName===o))})(t,o);return void 0===n?a[a.length-1]:a.find(t=>t.id===n)},f=async(o,n,a,e,s)=>{if(o.presented)return;o.presented=!0,o.willPresent.emit();const i=o.enterAnimation?o.enterAnimation:t.get(n,"ios"===o.mode?a:e);await v(o,i,o.el,s)&&o.didPresent.emit()},m=async(o,n,a,e,s,i,r)=>{if(!o.presented)return!1;o.presented=!1;try{o.willDismiss.emit({data:n,role:a});const c=o.leaveAnimation?o.leaveAnimation:t.get(e,"ios"===o.mode?s:i);await v(o,c,o.el,r),o.didDismiss.emit({data:n,role:a})}catch(t){console.error(t)}return o.el.remove(),!0},b=t=>t.querySelector("ion-app")||t.body,v=async(o,n,a,e)=>{if(o.animation)return o.animation.destroy(),o.animation=void 0,!1;a.classList.remove("overlay-hidden");const s=a.shadowRoot||o.el;let i,r=!0;try{const t=await __sc_import_ionic("./p-ae28cb4b.js");i=await t.create(n,s,e)}catch(t){(i=n(s,e)).fill("both"),r=!1}o.animation=i,o.animated&&t.getBoolean("animated",!0)||i.duration(0),o.keyboardClose&&i.beforeAddWrite(()=>{const t=a.ownerDocument.activeElement;t&&t.matches("input, ion-input, ion-textarea")&&t.blur()});const c=await i.playAsync(),u="boolean"==typeof c?c:i.hasCompleted;return r&&i.destroy(),o.animation=void 0,u},h=(t,o)=>{let n;const a=new Promise(t=>n=t);return w(t,o,t=>{n(t.detail)}),a},w=(t,o,n)=>{const a=e=>{t.removeEventListener(o,a),n(e)};t.addEventListener(o,a)},_=t=>"cancel"===t||t===x,j=(t,o)=>{for(;o;){if(o===t)return!0;o=o.parentElement}return!1},k=t=>t(),g=(o,n)=>{if("function"==typeof o)return t.get("_zoneGate",k)(()=>{try{return o(n)}catch(t){console.error(t)}})},x="backdrop";export{x as B,a,e as b,c,f as d,m as e,h as f,d as g,l as h,_ as i,y as j,s as l,i as m,r as p,g as s,u as t};